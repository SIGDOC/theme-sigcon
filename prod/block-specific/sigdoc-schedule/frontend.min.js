(()=>{var I=async(e,n)=>{let l=Object.keys(e)[0],t=Object.keys(e[l]),a={};return t.forEach(r=>{if(Array.isArray(e[l][r])==!0){a[r]={};let c={};c=e[l][r].reduce((s,d)=>(s[d[n]]=s[d[n]]||[],s[d[n]].push(d),s),Object.create(null)),a[r]=c}}),{pdps:e,room:a}},U=async(e,n)=>{Object.keys(e).forEach(t=>{let a=t,r=document.getElementById("schedule__container"),c=document.createElement("div");c.id=a,c.className="schedule__day_container",r.appendChild(c);let s={weekday:"long",year:"numeric",month:"long",day:"numeric"},d=new Date(Date.parse(a)),_=document.createElement("h3");_.className="day__title",_.innerHTML=d.toLocaleDateString("en-US",s),c.appendChild(_);let y=document.createElement("div");y.className="schedule__session_type_wrapper",c.appendChild(y),console.log(e[t]),Object.keys(e[t]).forEach(i=>{let o=document.createElement("section");o.className="schedule__session",y.appendChild(o);let m=document.createElement("div");m.className="schedule__session_title",o.appendChild(m);let C=document.createElement("div");C.className="schedule__stage_guide-container",o.appendChild(C);let w=document.createElement("h4");w.innerHTML=i,m.appendChild(w);let M=e[t][i][0].time,v=M.match(/^(\d+)/)[1],O=M.match(/-(\d+)/)[1].replace("-",""),R=v.slice(0,2),A=O.slice(0,2),k=v.slice(-2),B=O.slice(-2),u=Number(R),p=Number(k),h=Number(A),T=Number(B),j="";u>12&&(u=u-12),h>12&&(h=h-12),p==0?p="00":T==0&&(T="00"),j=u.toString()+":"+p.toString()+"-"+h.toString()+":"+p.toString();let N=document.createElement("p");N.className="time",N.innerHTML=j,m.appendChild(N),Object.keys(n[i]).forEach(L=>{let g=document.createElement("div");g.className="guide-slot",C.appendChild(g);let f=document.createElement("h5");f.className="room",f.innerHTML=L,g.appendChild(f),n[i][L].forEach(D=>{let E=document.createElement("div");E.className="guide-slot_card",g.appendChild(E);let S=document.createElement("h6");S.innerHTML=D.titles,E.appendChild(S);let H=document.createElement("p");H.className="presenters",H.innerHTML=D.presenters,E.appendChild(H)})})});let b=document.createElement("hr");b.className="divider",r.appendChild(b)})},W=async(e,n)=>{let l=Object.keys(e),t={};return l.forEach(a=>{if(Array.isArray(e[a])==!0){t[a]={};let r={};r=e[a].reduce((c,s)=>(c[s[n]]=c[s[n]]||[],c[s[n]].push(s),c),Object.create(null)),t[a]=r}}),t},q=async(e,n)=>e.reduce((t,a)=>(t[a[n]]=t[a[n]]||[],t[a[n]].push(a),t)),x=async e=>{await q(e,"date").then(async n=>{await W(n,"session").then(async l=>{await I(l,"room").then(async t=>{console.log(t.pdps),await U(t.pdps,t.room)})})})},z=e=>new Promise((n,l)=>{Papa.parse(e,{download:!0,header:!0,complete:async t=>{try{return t?n(t.data):l()}catch(a){console.info(a)}}})});(async function(){await z("./sigdoc-schedule.csv").then(async e=>{e&&x(e)})})();})();
