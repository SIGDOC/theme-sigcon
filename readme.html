<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.333">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>readme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="readme_files/libs/clipboard/clipboard.min.js"></script>
<script src="readme_files/libs/quarto-html/quarto.js"></script>
<script src="readme_files/libs/quarto-html/popper.min.js"></script>
<script src="readme_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="readme_files/libs/quarto-html/anchor.min.js"></script>
<link href="readme_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="readme_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="readme_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="readme_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="readme_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">



<section id="theme-for-sigdoc-conferences" class="level1">
<h1>THEME FOR SIGDOC CONFERENCES</h1>
<p>This repo is for the SIG on the Design of Communication conference.</p>
<section id="custom-blocks" class="level2">
<h2 class="anchored" data-anchor-id="custom-blocks">Custom Blocks</h2>
<p>Custom blocks are located in the <code>gutenberg &gt; blocks</code> folder area.</p>
<p>Current blocks include:</p>
<ul>
<li><strong>Flexbox thin cards</strong> <br> <img src="gutenberg/blocks/sigcon-cards-flex-thin/example.jpg" width="75px" style="float:left;margin-right:15px">
<ul>
<li><strong>Path</strong>: <code>gutenberg/blocks/sigcon-cards-flex-thin</code></li>
<li><strong>Notes</strong>: Main CSS styles are located in a shared cards stylesheet: <code>gutenberg/blocks_shared_css_and_js/css/sigcon-cards.scss</code></li>
</ul></li>
<li><strong>Cards with left floated images</strong> <br> <img src="gutenberg/blocks/sigcon-cards-left-float-img-and-txt/example.jpg" width="75px" style="float:left;margin-right:15px">
<ul>
<li><strong>Path</strong>: <code>gutenberg/blocks/sigcon-cards-left-float-img-and-txt</code></li>
<li><strong>Notes</strong>: It’s frontend.scss file overwrites WP’s <code>tr-image-...</code> styles</li>
</ul></li>
<li><strong>Landing page animated and numbered card panels</strong> <br> <img src="gutenberg/blocks/sigcon-landing-cards/example.jpg" width="75px" style="float:left;margin-right:15px">
<ul>
<li><strong>Path</strong>: <code>gutenberg/blocks/sigcon-landing-cards</code></li>
<li><strong>Notes</strong>: Uses Greensock.js library for the animations. However, it is designed to not require Greensock or javascript in general.</li>
</ul></li>
</ul>
</section>
<section id="gutenberg-block-lessons-learned" class="level2">
<h2 class="anchored" data-anchor-id="gutenberg-block-lessons-learned">GUTENBERG BLOCK LESSONS LEARNED</h2>
<ul>
<li><code>model.json</code> keys <strong>must use</strong> underscores—not hyphens. Otherwise it breaks the JSON.</li>
<li>anchors can nicely use the <code>link</code> object with the <code>tr_a()</code> template part. But, the trade off is not as much CSS versatility without adding classes to the anchor element itself.</li>
</ul>
</section>
<section id="tasks" class="level2">
<h2 class="anchored" data-anchor-id="tasks">TASKS</h2>
<section id="block-templating" class="level3">
<h3 class="anchored" data-anchor-id="block-templating">Block Templating</h3>
<p>Custom Gutenberg blocks (<code>theme-sigcon/gutenberg/blocks/..</code>)</p>
<ul>
<li>[] <code>enter_name_of_block</code>: Enter description of block component
<ul>
<li>[] editor.scss</li>
<li>[] view.latte</li>
<li>[] frontend.scss</li>
<li>[] frontend.js</li>
<li>[] model.json</li>
<li>[] example.jpg</li>
</ul></li>
</ul>
</section>
</section>
<section id="environment-requirements" class="level2">
<h2 class="anchored" data-anchor-id="environment-requirements"><strong>Environment Requirements:</strong></h2>
<ul>
<li>PHP ^8.0 (^7.4.29 for releases prior to v1.1.0)
<ul>
<li>This theme runs on PHP ^8.0</li>
</ul></li>
<li>Composer 2.0.2^</li>
<li>Node 14.19.1</li>
</ul>
<hr>
</section>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">SETUP</h2>
<ol type="1">
<li>At the root of the theme, there is a “theme_redone_global_config.json” file. Replace “localhost/theme-redone” with the name of your project from htdocs “localhost/[PROJECT-FOLDER-NAME]” (This makes sure browser-sync connects to the correct project)</li>
<li>From the terminal (from inside the root directory of the theme) run <code>composer install</code>.</li>
<li>Run <code>npm install</code> to install the PHP and JS dependencies. (Make sure Node version 14.19.1 is used. We suggest using NVM to manage Node versions)
<ul>
<li><strong>NOTE</strong>: On an M1 chip, I used <code>yarn install</code> instead. <code>node-sass</code> kept breaking due to lack of M1 ARM64 support. First, I
<ol type="1">
<li>ran <code>yarn add sass gulp-sass --save-dev</code>, which properly installed allthethings. Then,</li>
<li>in the <code>gulpfile.js</code>, I updated the <code>sass</code> library reference to <code>const sass = require("gulp-sass")(require('sass'))</code>.</li>
</ol></li>
</ul></li>
<li>Install the TRB CLI package globally ( <code>npm i -g @webredone/trb-cli</code> ) to scaffold blocks faster.</li>
<li>In WordPress, activate the theme</li>
<li>If you want to enable SVG uploads to the media folder, install the svg-support plugin</li>
<li>To start the compiler and make it watch for file changes, simply run the <code>npm start command</code> from the terminal</li>
<li>Once the project is finished and ready to be deployed, run <code>npm run build:prod</code> to optimize CSS and javascript files.</li>
</ol>
</section>
<section id="architecture" class="level2">
<h2 class="anchored" data-anchor-id="architecture">ARCHITECTURE</h2>
<pre><code>.
├── assets
│   ├── img
│   └── svg
├── cptui
│   ├── post_types.php
│   └── taxonomies.php
├── gutenberg
│   ├── blocks
│   │   ├── new-block-blueprint
│   │   │   ├── _editor.scss
│   │   │   ├── controller.php
│   │   │   ├── EditMain.js
│   │   │   ├── EditSidebar.js
│   │   │   ├── example.jpg
│   │   │   ├── frontend.js
│   │   │   ├── frontend.scss
│   │   │   ├── model.json
│   │   │   ├── View.js
│   │   │   └── view.latte
│   ├── blocks_shared_css_and_js
│   │   ├── css
│   │   └── js
│   ├── components
│   ├── core
│   ├── helpers
│   ├── scss
│   ├── blocks.js
│   ├── init.php
│   └── register_block.js
├── page-templates
├── php-inc
├── prod
├── src
│   ├── js
│   └── scss
├── vendor
├── views
│   ├── layout
│   ├── parts
│   ├── temp
│   └── templates
├── 404.php
├── front-page.php
├── functions.php
├── index.php
├── page.php
├── screenshot.png
├── single.php
├── style.css
└── theme_redone_global_config.json</code></pre>
<section id="modifications" class="level3">
<h3 class="anchored" data-anchor-id="modifications">Modifications</h3>
<ul>
<li><code>gutenberg/init.php</code> - needed to check for .DS_Store as a directory</li>
</ul>
<pre><code>// REGISTER THE DYNAMIC BLOCKS ------------------------------
$block_prefix = json_decode(file_get_contents(get_template_directory() . "/theme_redone_global_config.json"), true)['BLOCK_NAME_PREFIX'];
$all_blocks_dir_names = array_diff(scandir(TR_BLOCKS_DIR), ['..', '.', 'new-block-setup']);
foreach ($all_blocks_dir_names as $key =&gt; $block_dir_name) {
    if ($block_dir_name != '.DS_Store') {

        $block_model = json_decode(file_get_contents(TR_BLOCKS_DIR . "/$block_dir_name/model.json"), true);
        $block_meta = $block_model['block_meta'];
        if (
            !array_key_exists("isJsRendered", $block_meta) || 
            (array_key_exists("isJsRendered", $block_meta) &amp;&amp; $block_meta['isJsRendered'] === false)
        ) {
            require_once TR_BLOCKS_DIR . "/$block_dir_name/controller.php";
        }

    }
    
}
// END:REGISTER THE DYNAMIC BLOCKS --------------------------</code></pre>
<hr>
</section>
</section>
<section id="compilationwatching-and-bundlingminification-tasks" class="level2">
<h2 class="anchored" data-anchor-id="compilationwatching-and-bundlingminification-tasks"><strong>Compilation/Watching and Bundling/Minification Tasks:</strong></h2>
<ul>
<li>To start the compiler and make it watch for file changes, simply run the npm start command from the terminal</li>
<li>Once the project is finished and ready to be deployed, run npm run build:prod to optimize css and javascript files. __________________________________________________________________________</li>
</ul>
<p>Theme Redone is a custom WordPress theme starter/framework with its own Gutenberg blocks solution and a CLI that speeds up the block creation process.</p>
<section id="it-consists-of" class="level3">
<h3 class="anchored" data-anchor-id="it-consists-of">It consists of:</h3>
<ul>
<li>✅ <a href="https://webredone.com/theme-redone/why-latte-as-a-templating-engine/">Latte templating engine</a> for its beautiful syntax and a more streamlined and manageable workflow</li>
<li>✅ EsBuild/Webpack + Gulp task tasks for <a href="https://webredone.com/theme-redone/scss-and-js-compilation-bundling/">compiling SCSS and JS</a></li>
<li>✅ SCSS (SMACSS folder/files structure)</li>
<li>✅ Javascript (ES8 and React/Svelte/Vue support, thanks to EsBuild and Babel)</li>
<li>✅ In-theme <a href="https://webredone.com/theme-redone/gutenberg-blocks-framework/">framework for building Gutenberg blocks</a> in a streamlined and standardized way</li>
<li>✅ <a href="https://webredone.com/theme-redone/gutenberg-blocks-framework/trb-cli/">TRB CLI</a> helper for scaffolding new Gutenberg blocks</li>
<li>✅ <a href="https://webredone.com/theme-redone/simple-grid-system/">Bare-bones grid system</a> coded with Flex and CSS variables (about 15 lines of code)</li>
<li>✅ <a href="https://webredone.com/theme-redone/theme-functions/">Helper functions</a> for repetitive tasks such as rendering images, links, SVG code, and more</li>
<li>✅ Just a few <a href="https://webredone.com/theme-redone/javascript-ui-elements-classes/">well-written UI components</a> to get you started (we don’t like bloat in our code): Modal, Accordion, Tabs, Menu, Dropdowns, Sliders, and simple “in view fade-in transitions”</li>
<li>✅ <a href="https://webredone.com/theme-redone/svg-handling/">SVG support</a></li>
<li>✅ <a href="https://webredone.com/theme-redone/debugging-tracy/">Tracy Debugger</a> to help us make sure we write stable and error-free code</li>
<li>✅ And much more</li>
</ul>
</section>
<section id="visit-httpswebredone.comtheme-redone-to-learn-more-from-our-50-pages-long-documentation." class="level3">
<h3 class="anchored" data-anchor-id="visit-httpswebredone.comtheme-redone-to-learn-more-from-our-50-pages-long-documentation.">Visit https://webredone.com/theme-redone/ to learn more from our 50+ pages long documentation.</h3>
<hr>
</section>
</section>
<section id="environment-requirements-1" class="level2">
<h2 class="anchored" data-anchor-id="environment-requirements-1"><strong>Environment Requirements:</strong></h2>
<ul>
<li>PHP ^8.0 (^7.4.29 for releases prior to v1.1.0)</li>
<li>Composer 2.0.2^</li>
<li>Node 14.19.1</li>
</ul>
<hr>
</section>
<section id="installation" class="level2">
<h2 class="anchored" data-anchor-id="installation"><strong>Installation:</strong></h2>
<ol type="1">
<li>Download and install the latest version of the theme</li>
<li>At the root of the theme, there is a “theme_redone_global_config.json” file. Replace “localhost/theme-redone” with the name of your project from htdocs “localhost/[PROJECT-FOLDER-NAME]” (This makes sure browser-sync connects to the correct project)</li>
<li>From the terminal (from inside the root directory of the theme) run composer install and afterward npm install to install the PHP and JS dependencies. (Make sure Node version 14.19.1 is used. We suggest using NVM to manage Node versions) Install the TRB CLI package globally ( npm i -g <span class="citation" data-cites="webredone/trb-cli">@webredone/trb-cli</span> ) to scaffold blocks faster.</li>
<li>In WordPress, activate the theme</li>
</ol>
<hr>
</section>
<section id="compilationwatching-and-bundlingminification-tasks-1" class="level2">
<h2 class="anchored" data-anchor-id="compilationwatching-and-bundlingminification-tasks-1"><strong>Compilation/Watching and Bundling/Minification Tasks:</strong></h2>
<ul>
<li>To start the compiler and make it watch for file changes, simply run the npm start command from the terminal</li>
<li>Once the project is finished and ready to be deployed, run npm run build:prod to optimize css and javascript files.</li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>